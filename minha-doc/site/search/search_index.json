{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"individual/bottlenecks/","title":"Caching","text":""},{"location":"individual/bottlenecks/#caching-com-redis","title":"\ud83e\udde0 Caching com Redis","text":"<p>A utiliza\u00e7\u00e3o de um sistema de cache em mem\u00f3ria \u00e9 essencial para aplica\u00e7\u00f5es modernas que exigem alto desempenho e baixa lat\u00eancia. O Redis, sendo um banco de dados in-memory extremamente r\u00e1pido, \u00e9 uma das solu\u00e7\u00f5es mais adotadas nesse cen\u00e1rio.</p>"},{"location":"individual/bottlenecks/#vantagens-do-cache","title":"\ud83d\ude80 Vantagens do Cache","text":"<ul> <li>Baixa lat\u00eancia: dados s\u00e3o recuperados da mem\u00f3ria, muito mais r\u00e1pido do que consultas ao banco relacional.</li> <li>Redu\u00e7\u00e3o de carga: evita sobrecarga em sistemas como PostgreSQL ou servi\u00e7os externos.</li> <li>Alta disponibilidade: se bem configurado, pode ser replicado e escalado horizontalmente.</li> <li>Desacoplamento de processamento: separa dados transit\u00f3rios e frequentemente acessados da persist\u00eancia principal.</li> </ul>"},{"location":"individual/bottlenecks/#estrutura-tipica-no-redis-para-o-product-service","title":"\ud83d\uddc3\ufe0f Estrutura t\u00edpica no Redis para o Product Service","text":"<p>No contexto do <code>ProductService</code>, o Redis \u00e9 utilizado para armazenar:</p>"},{"location":"individual/bottlenecks/#chaves-comuns","title":"\ud83d\udd11 Chaves comuns","text":"<ul> <li>productsAll \u2192 Representa a lista completa de produtos retornada por <code>findAll()</code>.</li> <li>products:: \u2192 Representa um produto espec\u00edfico por ID, retornado por <code>findById()</code>."},{"location":"individual/bottlenecks/#exemplo-de-valores","title":"\ud83d\udce6 Exemplo de valores","text":""},{"location":"individual/bottlenecks/#productsall","title":"\u2705 productsAll","text":"<pre><code>[\n  {\n    \"id\": \"0195abfb-7074-73a9-9d26-b4b9fbaab0a8\",\n    \"name\": \"Tomato\",\n    \"price\": 10.12,\n    \"unit\": \"kg\"\n  },\n  {\n    \"id\": \"0195abfe-e416-7052-be3b-27cdaf12a984\",\n    \"name\": \"Cheese\",\n    \"price\": 0.62,\n    \"unit\": \"slice\"\n  }\n]\n</code></pre>"},{"location":"individual/bottlenecks/#products0195abfb-7074-73a9-9d26-b4b9fbaab0a8","title":"\u2705 products::0195abfb-7074-73a9-9d26-b4b9fbaab0a8","text":"<pre><code>{\n  \"id\": \"0195abfb-7074-73a9-9d26-b4b9fbaab0a8\",\n  \"name\": \"Tomato\",\n  \"price\": 10.12,\n  \"unit\": \"kg\"\n}\n</code></pre>"},{"location":"individual/bottlenecks/#ttl-time-to-live","title":"\ud83d\udd52 TTL (Time-To-Live)","text":"<ul> <li>Pode ser configurado para 5 minutos, garantindo que a lista de produtos seja atualizada periodicamente sem sobrecarregar o banco.</li> <li>Chaves podem ter TTLs diferentes conforme a frequ\u00eancia de atualiza\u00e7\u00e3o dos dados (ex: <code>productsAll</code> com TTL menor que <code>products::&lt;id&gt;</code>).</li> </ul>"},{"location":"individual/bottlenecks/#uso-ideal","title":"\ud83e\udde0 Uso ideal","text":"<p>Esse cache \u00e9 ideal para otimizar a performance de:</p> <ul> <li>Interfaces que listam todos os produtos com frequ\u00eancia.</li> <li>Consultas individuais por ID (em p\u00e1ginas de detalhe ou edi\u00e7\u00e3o).</li> </ul> <p>As chaves s\u00e3o automaticamente invalidadas ou atualizadas via anota\u00e7\u00f5es <code>@CacheEvict</code>, <code>@CachePut</code> e <code>@Cacheable</code>, conforme definido no seu <code>ProductService</code>.</p>"},{"location":"individual/bottlenecks/#possiveis-bottlenecks-com-redis","title":"\ud83e\udeab Poss\u00edveis Bottlenecks com Redis","text":"<p>Apesar do desempenho excelente, o Redis pode se tornar um gargalo se mal utilizado:</p>"},{"location":"individual/bottlenecks/#1-uso-excessivo-de-cache-sem-ttl","title":"1. Uso excessivo de cache sem TTL","text":"<p>Se voc\u00ea armazenar muitos dados sem tempo de expira\u00e7\u00e3o (<code>TTL</code>), o Redis pode crescer at\u00e9 atingir o limite de mem\u00f3ria.</p> <p>\ud83d\udca1 Solu\u00e7\u00e3o: aplique TTLs adequados ou pol\u00edticas de expira\u00e7\u00e3o como <code>volatile-lru</code>.</p>"},{"location":"individual/bottlenecks/#2-cache-nao-invalidado-corretamente","title":"2. Cache n\u00e3o invalidado corretamente","text":"<p>Sem mecanismos de evict apropriados, dados desatualizados podem permanecer no cache, causando inconsist\u00eancia.</p> <p>\ud83d\udca1 Solu\u00e7\u00e3o: use <code>@CacheEvict</code> ao deletar ou atualizar dados relevantes.</p>"},{"location":"individual/bottlenecks/#3-ponto-unico-de-falha","title":"3. Ponto \u00fanico de falha","text":"<p>Redis, se utilizado como cache e fonte principal de dados (anti-padr\u00e3o), pode comprometer a resili\u00eancia da aplica\u00e7\u00e3o.</p> <p>\ud83d\udca1 Solu\u00e7\u00e3o: sempre trate falhas de cache como soft failures (fallback para o banco).</p>"},{"location":"individual/bottlenecks/#4-acesso-concorrente-nao-controlado","title":"4. Acesso concorrente n\u00e3o controlado","text":"<p>M\u00faltiplas requisi\u00e7\u00f5es podem sobrecarregar o Redis se o acesso for muito frequente e mal dimensionado.</p> <p>\ud83d\udca1 Solu\u00e7\u00e3o: analise m\u00e9tricas de cache hit/miss, configure limites de conex\u00e3o e monitore com Prometheus + Grafana.</p>"},{"location":"individual/bottlenecks/#exemplo-pratico-com-spring-boot-redis","title":"\ud83e\uddea Exemplo pr\u00e1tico com Spring Boot + Redis","text":""},{"location":"individual/bottlenecks/#codigo-do-servico-com-anotacoes-de-cache","title":"C\u00f3digo do servi\u00e7o com anota\u00e7\u00f5es de cache","text":"<pre><code>package store.product;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Optional;\n\nimport org.springframework.cache.annotation.CacheEvict;\nimport org.springframework.cache.annotation.CachePut;\nimport org.springframework.cache.annotation.Cacheable;\nimport org.springframework.cache.annotation.Caching;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.server.ResponseStatusException;\n\n@Service\npublic class ProductService {\n\n    private final ProductRepository productRepository;\n\n    public ProductService(ProductRepository productRepository) {\n        this.productRepository = productRepository;\n    }\n\n    @Caching(\n        put   = { @CachePut(value = \"products\", key = \"#result.id\") },\n        evict = { @CacheEvict(value = \"productsAll\", allEntries = true) }\n    )\n    public Product create(Product product) {\n        return productRepository.save(new ProductModel(product)).to();\n    }\n\n    @Cacheable(value = \"products\", key = \"#id\")\n    public Product findById(String id) {\n        Optional&lt;ProductModel&gt; optional = productRepository.findById(id);\n        if (optional.isEmpty()) {\n            throw new ResponseStatusException(HttpStatus.NOT_FOUND, \"Product not found\");\n        }\n        return optional.get().to();\n    }\n\n    @Caching(\n        evict = {\n            @CacheEvict(value = \"products\", key = \"#id\"),\n            @CacheEvict(value = \"productsAll\", allEntries = true)\n        }\n    )\n    public void delete(String id) {\n        if (!productRepository.existsById(id)) {\n            throw new ResponseStatusException(HttpStatus.NOT_FOUND, \"Product not found\");\n        }\n        productRepository.deleteById(id);\n    }\n\n    @Cacheable(\"productsAll\")\n    public List&lt;Product&gt; findAll() {\n        List&lt;Product&gt; produtos = new ArrayList&lt;&gt;();\n        productRepository.findAll().forEach(model -&gt; produtos.add(model.to()));\n        return produtos;\n    }\n}\n</code></pre>"},{"location":"individual/bottlenecks/#codigo-da-aplicacao-com-cache-habilitado","title":"C\u00f3digo da aplica\u00e7\u00e3o com cache habilitado","text":"<pre><code>package store.product;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cache.annotation.EnableCaching;   // \u2b05 habilita o cache\n\n@SpringBootApplication\n@EnableCaching\npublic class ProductApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ProductApplication.class, args);\n    }\n}\n</code></pre>"},{"location":"individual/bottlenecks/#monitoramento-do-cache-recomendado","title":"\ud83d\udcca Monitoramento do Cache (Recomendado)","text":"<p>Embora n\u00e3o obrigat\u00f3rio, \u00e9 altamente recomendado monitorar o Redis com:</p> <ul> <li>Prometheus Redis Exporter</li> <li>Grafana Dashboards</li> <li> <p>M\u00e9tricas como:</p> </li> <li> <p>Taxa de acertos (cache hit rate)</p> </li> <li>Uso de mem\u00f3ria</li> <li>Tempo m\u00e9dio de resposta</li> <li>QPS (queries per second)</li> </ul>"},{"location":"individual/exchange/","title":"Exchange API","text":""},{"location":"individual/exchange/#overview","title":"Overview","text":"<p>A Exchange API \u00e9 um microsservi\u00e7o desenvolvido em Python com FastAPI que permite converter valores entre duas moedas qualquer, utilizando uma fonte externa de taxas de c\u00e2mbio (no caso, a AwesomeAPI). O servi\u00e7o exp\u00f5e um \u00fanico endpoint HTTP <code>GET /exchange/{from_currency}/{to_currency}</code>, que recebe os c\u00f3digos das moedas de origem e destino, consulta a API externa, e retorna o valor de venda, o valor de compra, a data/hora da \u00faltima cota\u00e7\u00e3o e o <code>id-account</code> do usu\u00e1rio (injetado via header).</p>"},{"location":"individual/exchange/#tecnologias-e-dependencias","title":"Tecnologias e Depend\u00eancias","text":"<ul> <li>Linguagem: Python 3.8+  </li> <li>Framework Web: FastAPI  </li> <li>Cliente HTTP: requests  </li> <li>Servidor ASGI (desenvolvimento): Uvicorn  </li> <li>Fonte de taxas de c\u00e2mbio: AwesomeAPI (padr\u00e3o)  </li> <li>Vari\u00e1veis de ambiente (opcionais): </li> <li><code>EXTERNAL_API_URL</code> (URL base da API de c\u00e2mbio; default: <code>https://economia.awesomeapi.com.br/last</code>)  </li> <li><code>PORT</code> (porta para execu\u00e7\u00e3o via Uvicorn; default: 8000)  </li> </ul>"},{"location":"individual/exchange/#principais-dependencias-requirementstxt","title":"Principais Depend\u00eancias (requirements.txt)","text":"<pre><code>txt\nfastapi\nuvicorn\nrequests\n</code></pre>"},{"location":"individual/exchange/#descricao-do-endpoint","title":"Descri\u00e7\u00e3o do Endpoint","text":"<pre><code>http GET /exchange/{from_currency}/{to_currency}\n</code></pre> <ul> <li> <p>Par\u00e2metros de caminho (path parameters):</p> </li> <li> <p><code>from_currency</code> (string): C\u00f3digo da moeda de origem (por exemplo, <code>USD</code>, <code>EUR</code>, <code>BRL</code>).</p> </li> <li> <p><code>to_currency</code> (string): C\u00f3digo da moeda de destino (por exemplo, <code>BRL</code>, <code>USD</code>).</p> </li> <li> <p>Headers obrigat\u00f3rios:</p> </li> <li> <p><code>id-account</code> (string): Identificador da conta/usu\u00e1rio que faz a requisi\u00e7\u00e3o. Caso n\u00e3o seja enviado, a API retorna HTTP 401 Unauthorized:</p> <pre><code>{\n  \"detail\": \"Missing id-account header\"\n}\n</code></pre> </li> <li> <p>Resposta de Sucesso (HTTP 200):</p> </li> </ul> <pre><code>{\n  \"sell\": 0.82,\n  \"buy\": 0.80,\n  \"date\": \"2021-09-01 14:23:42\",\n  \"id-account\": \"0195ae95-5be7-7dd3-b35d-7a7d87c404fb\"\n}\n</code></pre> <ul> <li><code>sell</code> (float): Taxa de venda (ask) da moeda de destino em rela\u00e7\u00e3o \u00e0 moeda de origem.</li> <li><code>buy</code> (float): Taxa de compra (bid) da moeda de destino em rela\u00e7\u00e3o \u00e0 moeda de origem.</li> <li><code>date</code> (string): Timestamp da \u00faltima cota\u00e7\u00e3o (formato <code>YYYY-MM-DD HH:MM:SS</code>).</li> <li> <p><code>id-account</code> (string): Mesmo valor enviado no header, para rastreabilidade.</p> </li> <li> <p>Poss\u00edveis C\u00f3digos de Erro:</p> </li> <li> <p>401 Unauthorized: Header <code>id-account</code> ausente.</p> </li> <li> <p>503 Service Unavailable: Falha ao consultar a API externa (AwesomeAPI) ou timeout.</p> <pre><code>{\n  \"detail\": \"Erro ao consultar a API externa de c\u00e2mbio.\"\n}\n</code></pre> </li> </ul>"},{"location":"individual/exchange/#fluxo-de-funcionamento","title":"Fluxo de Funcionamento","text":"<ol> <li>O cliente envia uma requisi\u00e7\u00e3o <code>GET /exchange/{from_currency}/{to_currency}</code> incluindo o header <code>id-account</code>, por exemplo:</li> </ol> <pre><code>GET /exchange/USD/BRL\nHeaders:\n  id-account: 0195ae95-5be7-7dd3-b35d-7a7d87c404fb\n</code></pre> <ol> <li> <p>A aplica\u00e7\u00e3o FastAPI faz valida\u00e7\u00e3o:</p> </li> <li> <p>Se o header <code>id-account</code> n\u00e3o estiver presente, retorna 401 Unauthorized.</p> </li> <li> <p>Constr\u00f3i a currency pair em formato <code>{FROM}-{TO}</code> (por exemplo, <code>USD-BRL</code>).</p> </li> <li> <p>Conecta na API externa AwesomeAPI (ou outra configurada via <code>EXTERNAL_API_URL</code>):</p> </li> </ol> <pre><code>GET https://economia.awesomeapi.com.br/last/USD-BRL\n</code></pre> <ol> <li> <p>Se a chamada \u00e0 API externa for bem-sucedida:</p> </li> <li> <p>Extrai o objeto JSON retornado, que cont\u00e9m as chaves <code>ask</code>, <code>bid</code> e <code>timestamp</code> para a pair <code>\"USDBRL\"</code>.</p> </li> <li>Converte <code>ask</code> e <code>bid</code> para <code>float</code>.</li> <li>Transforma o <code>timestamp</code> (unidade: segundos) em data/hora no formato <code>YYYY-MM-DD HH:MM:SS</code>.</li> <li> <p>Retorna JSON com <code>sell</code>, <code>buy</code>, <code>date</code> e repassa o <code>id-account</code>.</p> </li> <li> <p>Se ocorrer qualquer erro (timeout, par inexistente, resposta inv\u00e1lida), retorna 503 Service Unavailable.</p> </li> </ol>"},{"location":"individual/exchange/#estrutura-do-codigo-mainpy","title":"Estrutura do C\u00f3digo (<code>main.py</code>)","text":"<pre><code>import os\nfrom datetime import datetime\n\nimport requests\nfrom fastapi import FastAPI, Request, HTTPException\n\napp = FastAPI(\n    title=\"Exchange API\",\n    version=\"1.0.0\",\n    description=\"Converte valores entre duas moedas usando uma fonte externa (AwesomeAPI).\"\n)\n\n# URL da API de c\u00e2mbio externa\nEXTERNAL_API_URL = os.getenv(\"EXTERNAL_API_URL\", \"https://economia.awesomeapi.com.br/last\")\n\n\n@app.get(\"/exchange/{from_currency}/{to_currency}\")\ndef convert_currency(from_currency: str, to_currency: str, request: Request):\n    # Verifica se o header com o ID da conta est\u00e1 presente (injetado pelo gateway)\n    account_id = request.headers.get(\"id-account\")\n    if not account_id:\n        raise HTTPException(status_code=401, detail=\"Missing id-account header\")\n\n    # Ex: USD-BRL\n    pair = f\"{from_currency.upper()}-{to_currency.upper()}\"\n\n    try:\n        response = requests.get(f\"{EXTERNAL_API_URL}/{pair}\", timeout=5)\n        response.raise_for_status()\n        data = response.json()\n        key = f\"{from_currency.upper()}{to_currency.upper()}\"\n        quote = data[key]\n    except Exception as exc:\n        raise HTTPException(\n            status_code=503,\n            detail=\"Erro ao consultar a API externa de c\u00e2mbio.\"\n        ) from exc\n\n    return {\n        \"sell\": float(quote[\"ask\"]),\n        \"buy\": float(quote[\"bid\"]),\n        \"date\": datetime.fromtimestamp(int(quote[\"timestamp\"])).strftime(\"%Y-%m-%d %H:%M:%S\"),\n        \"id-account\": account_id\n    }\n\n\nif __name__ == \"__main__\":\n    import uvicorn\n    port = int(os.getenv(\"PORT\", \"8000\")) \n    uvicorn.run(\"main:app\", host=\"0.0.0.0\", port=port, reload=True)\n</code></pre>"},{"location":"individual/exchange/#detalhes-importantes","title":"Detalhes Importantes","text":"<ul> <li> <p>Framework FastAPI:</p> </li> <li> <p>Cria automaticamente documenta\u00e7\u00e3o interativa (Swagger UI) em <code>/docs</code> e Redoc em <code>/redoc</code>.</p> </li> <li>Valida tipos de par\u00e2metros e retorna erros 422 caso os formats estejam incorretos.</li> <li> <p>Valida\u00e7\u00e3o de Header:</p> </li> <li> <p>A <code>id-account</code> deve ser injetada pelo servi\u00e7o de API Gateway antes de encaminhar a requisi\u00e7\u00e3o a este microsservi\u00e7o.</p> </li> <li>Sem esse header, a requisi\u00e7\u00e3o \u00e9 negada \u2013 garantindo rastreabilidade da conta solicitante.</li> <li> <p>Chave de Consulta (<code>key</code>) no JSON Externo:</p> </li> <li> <p>A AwesomeAPI devolve um JSON onde a chave principal \u00e9 a concatena\u00e7\u00e3o das moedas: <code>\"USDBRL\": { \"ask\": \"...\", \"bid\": \"...\", ... }</code>.</p> </li> <li>Por isso, \u00e9 importante normalizar as strings para MAI\u00daSCULAS.</li> <li> <p>Tratamento de Erros:</p> </li> <li> <p>Se o par de moedas for inv\u00e1lido, se a API externa estiver fora do ar ou retornar erro 4xx/5xx, a rota retorna 503 Service Unavailable com mensagem gen\u00e9rica.</p> </li> <li> <p>Formato de Data:</p> </li> <li> <p>A <code>timestamp</code> retornada pela API externa vem em segundos desde 1970. Convertida para <code>YYYY-MM-DD HH:MM:SS</code> para legibilidade.</p> </li> </ul>"},{"location":"individual/exchange/#variaveis-de-ambiente","title":"Vari\u00e1veis de Ambiente","text":"<ul> <li> <p><code>EXTERNAL_API_URL</code> (opcional)   URL base da fonte de taxas de c\u00e2mbio.</p> </li> <li> <p>Default: <code>https://economia.awesomeapi.com.br/last</code></p> </li> <li> <p>Exemplo para outra API:</p> <pre><code>export EXTERNAL_API_URL=\"https://api.exchangerate-api.com/v4/latest\"\n</code></pre> </li> <li> <p><code>PORT</code> (opcional)   Porta TCP em que o Uvicorn ir\u00e1 expor o servi\u00e7o.</p> </li> <li> <p>Default: <code>8000</code></p> </li> </ul>"},{"location":"individual/exchange/#como-executar-localmente","title":"Como Executar Localmente","text":"<ol> <li>Clonar o reposit\u00f3rio:</li> </ol> <pre><code>git clone &lt;URL-do-reposit\u00f3rio&gt;\ncd exchange-service\n</code></pre> <ol> <li>Criar e ativar um ambiente virtual (recomendado):</li> </ol> <pre><code>python3 -m venv .venv\nsource .venv/bin/activate\n</code></pre> <ol> <li>Instalar depend\u00eancias:</li> </ol> <pre><code>pip install fastapi uvicorn requests\n</code></pre> <ol> <li>Configurar vari\u00e1veis de ambiente (opcional):</li> </ol> <pre><code>export EXTERNAL_API_URL=\"https://economia.awesomeapi.com.br/last\"\nexport PORT=8000\n</code></pre> <ol> <li>Iniciar o servidor:</li> </ol> <pre><code>uvicorn main:app --host 0.0.0.0 --port ${PORT:-8000} --reload\n</code></pre> <ol> <li> <p>Testar no navegador ou via curl:</p> </li> <li> <p>Documenta\u00e7\u00e3o interativa:</p> <p><pre><code>http://localhost:8000/docs\n</code></pre>    * Exemplo de requisi\u00e7\u00e3o com <code>curl</code>:</p> <pre><code>curl -H \"id-account: 0195ae95-5be7-7dd3-b35d-7a7d87c404fb\" \\\n     http://localhost:8000/exchange/USD/BRL\n</code></pre> </li> </ol>"},{"location":"individual/exchange/#exemplo-de-uso","title":"Exemplo de Uso","text":"<p>Requisi\u00e7\u00e3o:</p> <pre><code>GET /exchange/EUR/GBP HTTP/1.1\nHost: localhost:8000\nid-account: 0195ae95-5be7-7dd3-b35d-7a7d87c404fb\n</code></pre> <p>Resposta (200 OK):</p> <pre><code>{\n  \"sell\": 0.8582,\n  \"buy\": 0.8521,\n  \"date\": \"2021-09-01 14:23:42\",\n  \"id-account\": \"0195ae95-5be7-7dd3-b35d-7a7d87c404fb\"\n}\n</code></pre>"},{"location":"individual/exchange/#diagrama-de-fluxo","title":"Diagrama de Fluxo","text":""},{"location":"individual/exchange/#consideracoes-finais","title":"Considera\u00e7\u00f5es Finais","text":"<ul> <li>A Exchange API prov\u00ea um servi\u00e7o simples, mas essencial, para qualquer sistema de pagamentos, e-commerce ou plataforma financeira que precise de cota\u00e7\u00f5es em tempo real.</li> <li> <p>\u00c9 poss\u00edvel estender o c\u00f3digo para:</p> </li> <li> <p>Suportar outras APIs de c\u00e2mbio (basta ajustar <code>EXTERNAL_API_URL</code> e tratamento de resposta).</p> </li> <li>Adicionar cache (Redis, in-memory) para reduzir chamadas externas e melhorar performance.</li> <li>Implementar valida\u00e7\u00e3o de par\u00e2metros (moedas v\u00e1lidas, formatos).</li> <li>Cobrir testes unit\u00e1rios/mocks para chamada \u00e0 API externa.</li> </ul> <p>Esse documento deve servir como refer\u00eancia para entender o funcionamento interno, configura\u00e7\u00e3o e ponto de entrada do microsservi\u00e7o de c\u00e2mbio.</p>"},{"location":"individual/inicio/","title":"Inicio","text":""},{"location":"individual/inicio/#video-de-apresentacao","title":"V\u00eddeo de Apresenta\u00e7\u00e3o","text":"<p>Veja o v\u00eddeo no YouTube: https://youtu.be/cDTYJFzfYME</p> <p>Reposit\u00f3rios utilizados na aba: Individual &gt; Reposit\u00f3rios</p> <p>Instru\u00e7\u00f5es de execu\u00e7\u00e3o na aba: Individual &gt; Reposit\u00f3rios(fim da p\u00e1gina)</p>"},{"location":"individual/inicio/#resumo-das-entregas","title":"\u2714\ufe0f Resumo das Entregas","text":"Entreg\u00e1vel Status Exchange API \u2705 Conclu\u00eddo Product API \u2705 Conclu\u00eddo Order API \u2705 Conclu\u00eddo Jenkins \u2705 Conclu\u00eddo MiniKube \u2705 Conclu\u00eddo Bottlenecks \u26a0\ufe0f Parcial Mkdocs \u2705 Conclu\u00eddo"},{"location":"individual/inicio/#apenas-1-bottleneck-feito","title":"\u26a0\ufe0f Apenas 1 bottleneck feito","text":""},{"location":"individual/jenkins/","title":"Automa\u00e7\u00e3o de Deploy com Jenkins","text":""},{"location":"individual/jenkins/#overview","title":"Overview","text":"<p>Este m\u00f3dulo aborda a cria\u00e7\u00e3o de uma pipeline de automa\u00e7\u00e3o utilizando Jenkins para realizar o build, empacotamento, publica\u00e7\u00e3o e deploy cont\u00ednuos dos microservi\u00e7os em um cluster Kubernetes.</p> <p>A ideia \u00e9 garantir um fluxo padronizado e confi\u00e1vel de CI/CD para toda a plataforma.</p>"},{"location":"individual/jenkins/#estrutura-do-projeto","title":"\ud83e\uddf1 Estrutura do Projeto","text":"<p>Cada microservi\u00e7o possui um <code>Jenkinsfile</code> espec\u00edfico no seu diret\u00f3rio raiz. Al\u00e9m disso, um pipeline principal pode ser utilizado para orquestrar m\u00faltiplos servi\u00e7os em sequ\u00eancia:</p> <pre><code>.\n\u251c\u2500\u2500 account-service/\n\u2502   \u2514\u2500\u2500 Jenkinsfile\n\u251c\u2500\u2500 auth-service/\n\u2502   \u2514\u2500\u2500 Jenkinsfile\n\u251c\u2500\u2500 gateway-service/\n\u2502   \u2514\u2500\u2500 Jenkinsfile\n\u251c\u2500\u2500 product-service/\n\u2502   \u2514\u2500\u2500 Jenkinsfile\n\u251c\u2500\u2500 order-service/\n\u2502   \u2514\u2500\u2500 Jenkinsfile\n</code></pre>"},{"location":"individual/jenkins/#etapas-do-pipeline","title":"\ud83d\udd01 Etapas do Pipeline","text":"<p>Cada <code>Jenkinsfile</code> deve implementar uma sequ\u00eancia clara de etapas:</p> <ol> <li>Clonagem do Reposit\u00f3rio \u2013 Garante acesso ao c\u00f3digo atualizado.</li> <li>Instala\u00e7\u00e3o de Depend\u00eancias \u2013 Prepara o ambiente da aplica\u00e7\u00e3o.</li> <li>Build do Servi\u00e7o \u2013 Compila e empacota o microservi\u00e7o.</li> <li>Build &amp; Push da Imagem \u2013 Constr\u00f3i a imagem Docker e envia para o Docker Hub.</li> <li>Deploy no Cluster \u2013 Atualiza o servi\u00e7o no Kubernetes com a nova imagem.</li> </ol>"},{"location":"individual/jenkins/#exemplo-de-jenkinsfile-product-service","title":"\ud83d\udcc4 Exemplo de Jenkinsfile (<code>product-service</code>)","text":"<pre><code>pipeline {\n    agent any\n    environment {\n        SERVICE = 'product'\n        NAME = \"lucafeltrin14/${env.SERVICE}\"\n    }\n    stages {\n        stage('Dependencies') {\n            steps {\n                build job: 'product', wait: true\n            }\n        }\n        stage('Build') {\n            steps {\n                sh 'mvn -B -DskipTests clean package'\n            }\n        }\n        stage('Build &amp; Push Image') {\n            steps {\n                withCredentials([usernamePassword(\n                    credentialsId: 'dockerhub-credential',\n                    usernameVariable: 'USERNAME',\n                    passwordVariable: 'TOKEN'\n                )]) {\n                    sh 'docker login -u $USERNAME -p $TOKEN'\n                    sh \"docker buildx create --use --platform=linux/arm64,linux/amd64 --node multi-platform-builder-${env.SERVICE} --name multi-platform-builder-${env.SERVICE}\"\n                    sh \"docker buildx build --platform=linux/arm64,linux/amd64 --push --tag ${env.NAME}:latest --tag ${env.NAME}:${env.BUILD_ID} -f Dockerfile .\"\n                    sh \"docker buildx rm --force multi-platform-builder-${env.SERVICE}\"\n                }\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"individual/jenkins/#requisitos","title":"\ud83e\udde9 Requisitos","text":"<p>Para que a automa\u00e7\u00e3o funcione corretamente, certifique-se de que o ambiente Jenkins esteja configurado com:</p> <ul> <li>Plugins para Docker, Git e Kubernetes.</li> <li>Acesso ao cluster Kubernetes (via <code>kubeconfig</code>).</li> <li>Credenciais do Docker Hub cadastradas (<code>dockerhub-credential</code>).</li> <li>Scripts <code>Dockerfile</code> e <code>k8s.yaml</code> versionados no reposit\u00f3rio.</li> </ul>"},{"location":"individual/jenkins/#deploy-integrado","title":"\ud83c\udf10 Deploy Integrado","text":"<p>Todos os servi\u00e7os devem ser implantados no mesmo cluster Kubernetes. O deploy pode ser feito diretamente via comandos <code>kubectl</code> ou com integra\u00e7\u00e3o via scripts dentro do Jenkinsfile.</p> <p>Recomenda-se o uso de <code>docker buildx</code> para suportar m\u00faltiplas arquiteturas (arm64, amd64).</p>"},{"location":"individual/jenkins/#dicas-expansoes","title":"\ud83d\udca1 Dicas &amp; Expans\u00f5es","text":"<ul> <li>Use <code>build job: 'service'</code> para compor pipelines maiores e reutilizar etapas entre microservi\u00e7os.</li> <li> <p>Pode-se estender o pipeline com:</p> </li> <li> <p>Testes automatizados (JUnit, Pytest, etc.)</p> </li> <li>An\u00e1lise est\u00e1tica de c\u00f3digo (SonarQube, ESLint, etc.)</li> <li>Lint e valida\u00e7\u00e3o de manifests YAML</li> <li>Notifica\u00e7\u00f5es via Slack ou Discord</li> <li>A tag <code>:latest</code> e <code>:${BUILD_ID}</code> ajuda no rastreamento de vers\u00f5es por imagem.</li> </ul>"},{"location":"individual/jenkins/#exemplo-visual","title":"\ud83d\uddbc Exemplo Visual","text":"<p>Pipelines dos microservi\u00e7os podem ser visualizados no Jenkins:</p> <p></p>"},{"location":"individual/mini/","title":"Setup Local com Kubernetes (Minikube ou Kind)","text":""},{"location":"individual/mini/#overview","title":"Overview","text":"<p>Esta se\u00e7\u00e3o descreve como configurar um ambiente local utilizando Kubernetes com Minikube ou Kind, com o objetivo de hospedar todos os microservi\u00e7os da aplica\u00e7\u00e3o em um \u00fanico cluster local.</p> <p>Cada microservi\u00e7o deve ser implantado com recursos espec\u00edficos do Kubernetes, definidos em arquivos <code>k8s.yaml</code>. Esses arquivos devem incluir configura\u00e7\u00f5es de Secrets, ConfigMaps, Deployments e Services, garantindo que cada servi\u00e7o funcione corretamente dentro do cluster.</p>"},{"location":"individual/mini/#pre-requisitos","title":"\u2699\ufe0f Pr\u00e9-requisitos","text":"<p>Antes de iniciar, verifique se possui:</p> <ul> <li>\u2705 Minikube ou Kind instalados.</li> <li>\u2705 Docker instalado e acess\u00edvel no terminal.</li> <li>\u2705 Acesso ao terminal com permiss\u00f5es administrativas (root/sudo).</li> <li>\u2705 Diret\u00f3rio do projeto organizado com arquivos <code>k8s.yaml</code> para cada servi\u00e7o.</li> </ul> <p>Alternativamente, voc\u00ea pode usar o Kubernetes integrado ao Docker Desktop (com suporte habilitado).</p>"},{"location":"individual/mini/#estrutura-esperada-do-projeto","title":"\ud83d\uddc2 Estrutura Esperada do Projeto","text":"<p>A estrutura recomendada para organizar os manifests de cada microservi\u00e7o:</p> <pre><code>api/\n\u251c\u2500\u2500 account-service/\n\u2502   \u2514\u2500\u2500 k8s/\n\u2502       \u2514\u2500\u2500 k8s.yaml\n\u251c\u2500\u2500 auth-service/\n\u2502   \u2514\u2500\u2500 k8s/\n\u2502       \u2514\u2500\u2500 k8s.yaml\n\u251c\u2500\u2500 gateway-service/\n\u2502   \u2514\u2500\u2500 k8s/\n\u2502       \u2514\u2500\u2500 k8s.yaml\n\u251c\u2500\u2500 product-service/\n\u2502   \u2514\u2500\u2500 k8s/\n\u2502       \u2514\u2500\u2500 k8s.yaml\n\u2514\u2500\u2500 order-service/\n    \u2514\u2500\u2500 k8s/\n        \u2514\u2500\u2500 k8s.yaml\n</code></pre> <p>Cada arquivo <code>k8s.yaml</code> pode conter m\u00faltiplos recursos definidos sequencialmente.</p>"},{"location":"individual/mini/#recursos-kubernetes-por-servico","title":"\ud83d\udcc4 Recursos Kubernetes por Servi\u00e7o","text":"<p>Cada <code>k8s.yaml</code> deve incluir obrigatoriamente:</p> <ul> <li><code>Secret</code>: Armazena tokens, senhas e vari\u00e1veis sens\u00edveis.</li> <li><code>ConfigMap</code>: Define vari\u00e1veis de ambiente, configura\u00e7\u00f5es n\u00e3o sens\u00edveis.</li> <li><code>Deployment</code>: Controla o rollout e a gest\u00e3o dos pods.</li> <li><code>Service</code>: Exp\u00f5e o servi\u00e7o internamente no cluster (ClusterIP ou NodePort).</li> </ul> <p>Para ambientes locais, o uso de <code>NodePort</code> facilita testes manuais via navegador ou API clients.</p>"},{"location":"individual/mini/#comandos-essenciais","title":"\ud83d\ude80 Comandos Essenciais","text":""},{"location":"individual/mini/#inicializar-o-cluster","title":"Inicializar o cluster","text":"<pre><code>minikube start\n</code></pre> <p>Ou, caso esteja usando o Kind:</p> <pre><code>kind create cluster --name my-cluster\n</code></pre>"},{"location":"individual/mini/#aplicar-os-manifests-de-todos-os-servicos","title":"Aplicar os manifests de todos os servi\u00e7os","text":"<pre><code>kubectl apply -f account-service/k8s/k8s.yaml\nkubectl apply -f auth-service/k8s/k8s.yaml\nkubectl apply -f gateway-service/k8s/k8s.yaml\nkubectl apply -f product-service/k8s/k8s.yaml\nkubectl apply -f order-service/k8s/k8s.yaml\n</code></pre>"},{"location":"individual/mini/#verificar-status-dos-recursos","title":"Verificar status dos recursos","text":"<pre><code>kubectl get pods\nkubectl get svc\nkubectl get deployments\n</code></pre>"},{"location":"individual/mini/#validacao","title":"\u2705 Valida\u00e7\u00e3o","text":"<p>Para garantir que todos os servi\u00e7os est\u00e3o rodando no cluster local:</p> <p>Verifique o contexto ativo:</p> <pre><code>kubectl config current-context\n</code></pre> <p>Liste os pods e servi\u00e7os:</p> <pre><code>kubectl get pods\nkubectl get services\n</code></pre> <p>Verifique se todos os pods est\u00e3o com <code>STATUS = Running</code>.</p> <p></p>"},{"location":"individual/mini/#alternativa-deploy-em-nuvem","title":"\u2601\ufe0f Alternativa: Deploy em Nuvem","text":"<p>Se preferir utilizar um cluster em nuvem, as op\u00e7\u00f5es populares s\u00e3o:</p> <ul> <li>Amazon EKS</li> <li>Google Kubernetes Engine (GKE)</li> <li>Azure Kubernetes Service (AKS)</li> </ul> <p>Os mesmos <code>k8s.yaml</code> utilizados localmente podem ser reaproveitados. \u00c9 necess\u00e1rio apenas adaptar configura\u00e7\u00f5es espec\u00edficas, como <code>StorageClass</code>, <code>Ingress</code> e vari\u00e1veis de ambiente.</p>"},{"location":"individual/order/","title":"Order API","text":""},{"location":"individual/order/#overview","title":"Overview","text":"<p>A Order API \u00e9 respons\u00e1vel por lidar com os pedidos feitos por usu\u00e1rios da plataforma. Ela permite registrar novos pedidos, listar pedidos associados ao usu\u00e1rio autenticado e consultar detalhes de pedidos espec\u00edficos.</p> <p>Todas as chamadas s\u00e3o feitas via API Gateway e requerem autentica\u00e7\u00e3o por token JWT.</p>"},{"location":"individual/order/#endpoints","title":"Endpoints","text":""},{"location":"individual/order/#post-order","title":"<code>POST /order</code>","text":"<p>Registra um novo pedido para o usu\u00e1rio atual.</p> <p>Corpo da requisi\u00e7\u00e3o:</p> <pre><code>{\n  \"items\": [\n    {\n      \"idProduct\": \"0195abfb-7074-73a9-9d26-b4b9fbaab0a8\",\n      \"quantity\": 2\n    },\n    {\n      \"idProduct\": \"0195abfe-e416-7052-be3b-27cdaf12a984\",\n      \"quantity\": 1\n    }\n  ]\n}\n</code></pre> <p>Respostas:</p> <ul> <li><code>201 Created</code> \u2013 Pedido registrado.</li> <li><code>400 Bad Request</code> \u2013 Erro nos dados enviados.</li> </ul>"},{"location":"individual/order/#get-order","title":"<code>GET /order</code>","text":"<p>Retorna todos os pedidos vinculados ao usu\u00e1rio autenticado.</p> <p>Resposta:</p> <pre><code>[\n  {\n    \"id\": \"0195ac33-73e5-7cb3-90ca-7b5e7e549569\",\n    \"date\": \"2025-09-01T12:30:00\",\n    \"total\": 26.44\n  },\n  {\n    \"id\": \"0195ac33-cbbd-7a6e-a15b-b85402cf143f\",\n    \"date\": \"2025-10-09T03:21:57\",\n    \"total\": 18.6\n  }\n]\n</code></pre> <ul> <li><code>200 OK</code></li> </ul>"},{"location":"individual/order/#get-orderid","title":"<code>GET /order/{id}</code>","text":"<p>Retorna os detalhes de um pedido espec\u00edfico do usu\u00e1rio autenticado.</p> <p>Resposta:</p> <pre><code>{\n  \"id\": \"0195ac33-73e5-7cb3-90ca-7b5e7e549569\",\n  \"date\": \"2025-09-01T12:30:00\",\n  \"items\": [\n    {\n      \"id\": \"01961b9a-bca2-78c4-9be1-7092b261f217\",\n      \"product\": {\n        \"id\": \"0195abfb-7074-73a9-9d26-b4b9fbaab0a8\"\n      },\n      \"quantity\": 2,\n      \"total\": 20.24\n    },\n    {\n      \"id\": \"01961b9b-08fd-76a5-8508-cdb6cd5c27ab\",\n      \"product\": {\n        \"id\": \"0195abfe-e416-7052-be3b-27cdaf12a984\"\n      },\n      \"quantity\": 10,\n      \"total\": 6.2\n    }\n  ],\n  \"total\": 26.44\n}\n</code></pre> <ul> <li><code>200 OK</code> \u2013 Pedido retornado com sucesso.</li> <li><code>404 Not Found</code> \u2013 Pedido n\u00e3o pertence ao usu\u00e1rio ou n\u00e3o foi localizado.</li> </ul>"},{"location":"individual/order/#funcionalidades-extras","title":"Funcionalidades Extras","text":"<p>A API pode ser complementada com:</p> <ul> <li>Valida\u00e7\u00f5es completas de entrada.</li> <li> <p>Regras de autoriza\u00e7\u00e3o:</p> </li> <li> <p><code>admin</code>: gerencia produtos.</p> </li> <li><code>user</code>: realiza e consulta pedidos.</li> <li>Mensagens de erro claras e contextualizadas.</li> <li>Integra\u00e7\u00e3o com filtros de produto (ex: busca por nome) para facilitar cria\u00e7\u00e3o de pedidos via interface.</li> </ul>"},{"location":"individual/order/#integracao-com-a-plataforma","title":"Integra\u00e7\u00e3o com a Plataforma","text":""},{"location":"individual/order/#fluxo-de-comunicacao","title":"Fluxo de comunica\u00e7\u00e3o:","text":"<pre><code>Cliente \u2192 Gateway \u2192 Order API \u2192 Banco de Dados\n</code></pre>"},{"location":"individual/order/#diagrama-de-fluxo","title":"Diagrama de fluxo:","text":""},{"location":"individual/order/#servicos-envolvidos","title":"Servi\u00e7os envolvidos:","text":"<ul> <li>API Gateway \u2013 Encaminha requisi\u00e7\u00f5es e realiza autentica\u00e7\u00e3o.</li> <li>Auth Service \u2013 Verifica validade e permiss\u00f5es do token JWT.</li> <li>Order API \u2013 Processa a l\u00f3gica dos pedidos.</li> <li>Banco de Dados \u2013 Armazena os pedidos e seus itens.</li> <li>Product API \u2013 Verifica a exist\u00eancia e dados dos produtos envolvidos no pedido.</li> </ul>"},{"location":"individual/order/#seguranca","title":"Seguran\u00e7a","text":"<ul> <li>Todas as requisi\u00e7\u00f5es devem ser feitas por HTTPS.</li> <li>Token JWT \u00e9 obrigat\u00f3rio e deve ser enviado no cabe\u00e7alho.</li> <li>A API valida se o pedido pertence ao usu\u00e1rio autenticado antes de retornar seus dados.</li> </ul>"},{"location":"individual/product/","title":"Product API","text":""},{"location":"individual/product/#overview","title":"Overview","text":"<p>A Product API \u00e9 um servi\u00e7o REST que comp\u00f5e o ecossistema de uma loja virtual. Sua principal fun\u00e7\u00e3o \u00e9 permitir o gerenciamento de produtos e, de forma integrada, dar suporte ao controle de pedidos. A comunica\u00e7\u00e3o com outros servi\u00e7os da plataforma \u00e9 feita por meio de um API Gateway, garantindo autentica\u00e7\u00e3o centralizada com tokens JWT.</p> <p>Todas as requisi\u00e7\u00f5es devem conter um token JWT v\u00e1lido.</p>"},{"location":"individual/product/#endpoints-de-produto","title":"Endpoints de Produto","text":""},{"location":"individual/product/#post-product","title":"<code>POST /product</code>","text":"<p>Cria um novo produto na base de dados.</p> <p>Requisi\u00e7\u00e3o:</p> <pre><code>{\n  \"name\": \"Tomato\",\n  \"price\": 10.12,\n  \"unit\": \"kg\"\n}\n</code></pre> <p>Respostas poss\u00edveis:</p> <ul> <li><code>201 Created</code> \u2013 Produto cadastrado com sucesso.</li> <li><code>400 Bad Request</code> \u2013 Erro de valida\u00e7\u00e3o nos dados fornecidos.</li> </ul>"},{"location":"individual/product/#get-product","title":"<code>GET /product</code>","text":"<p>Retorna a lista de todos os produtos cadastrados.</p> <p>Resposta:</p> <pre><code>[\n  {\n    \"id\": \"0195abfb-7074-73a9-9d26-b4b9fbaab0a8\",\n    \"name\": \"Tomato\",\n    \"price\": 10.12,\n    \"unit\": \"kg\"\n  },\n  {\n    \"id\": \"0195abfe-e416-7052-be3b-27cdaf12a984\",\n    \"name\": \"Cheese\",\n    \"price\": 0.62,\n    \"unit\": \"slice\"\n  }\n]\n</code></pre> <ul> <li><code>200 OK</code></li> </ul>"},{"location":"individual/product/#get-productid","title":"<code>GET /product/{id}</code>","text":"<p>Consulta um produto espec\u00edfico pelo seu ID.</p> <p>Resposta:</p> <pre><code>{\n  \"id\": \"0195abfb-7074-73a9-9d26-b4b9fbaab0a8\",\n  \"name\": \"Tomato\",\n  \"price\": 10.12,\n  \"unit\": \"kg\"\n}\n</code></pre> <ul> <li><code>200 OK</code> \u2013 Produto encontrado.</li> <li><code>404 Not Found</code> \u2013 Nenhum produto encontrado com esse ID.</li> </ul>"},{"location":"individual/product/#delete-productid","title":"<code>DELETE /product/{id}</code>","text":"<p>Remove um produto da base de dados utilizando seu ID.</p> <ul> <li><code>204 No Content</code> \u2013 Exclus\u00e3o bem-sucedida.</li> <li><code>404 Not Found</code> \u2013 Produto n\u00e3o localizado.</li> </ul>"},{"location":"individual/product/#diagrama-de-fluxo","title":"Diagrama de Fluxo","text":""},{"location":"individual/product/#funcionalidades-extras","title":"Funcionalidades Extras","text":"<p>Al\u00e9m das opera\u00e7\u00f5es b\u00e1sicas, a API pode ser estendida com:</p> <ul> <li>Filtro de produtos por nome utilizando busca parcial (<code>like</code>).</li> <li> <p>Controle de acesso por fun\u00e7\u00e3o:</p> </li> <li> <p><code>admin</code>: pode criar, editar e excluir produtos.</p> </li> <li><code>user</code>: tem permiss\u00e3o apenas para registrar pedidos.</li> <li>Valida\u00e7\u00e3o robusta dos dados de entrada.</li> <li>Respostas padronizadas para mensagens de erro.</li> </ul>"},{"location":"individual/product/#integracao-com-a-plataforma","title":"Integra\u00e7\u00e3o com a Plataforma","text":""},{"location":"individual/product/#arquitetura-simplificada","title":"Arquitetura Simplificada","text":"<pre><code>Cliente \u2192 API Gateway \u2192 Product API \u2192 Banco de Dados\n</code></pre>"},{"location":"individual/product/#servicos-relacionados","title":"Servi\u00e7os Relacionados","text":"<ul> <li>API Gateway \u2013 Centraliza a entrada e autentica tokens JWT.</li> <li>Auth Service \u2013 Emite e valida tokens de autentica\u00e7\u00e3o.</li> <li>Account Service \u2013 Gerencia as informa\u00e7\u00f5es de usu\u00e1rio.</li> <li>Database \u2013 Armazena os produtos e registros de pedidos.</li> <li>APIs externas \u2013 (opcional) para sincroniza\u00e7\u00e3o com cat\u00e1logos de terceiros.</li> </ul>"},{"location":"individual/product/#seguranca","title":"Seguran\u00e7a","text":"<p>A Product API adota boas pr\u00e1ticas de seguran\u00e7a:</p> <ul> <li>Suporte obrigat\u00f3rio a HTTPS.</li> <li>Autentica\u00e7\u00e3o via JWT em todas as requisi\u00e7\u00f5es.</li> <li>Controle de permiss\u00f5es baseado em n\u00edvel de acesso (admin/user).</li> </ul>"},{"location":"individual/repositorios/","title":"\ud83d\udcc2 Reposit\u00f3rios e Checkpoints","text":""},{"location":"individual/repositorios/#disclaimer","title":"Disclaimer","text":"<p>Os reposit\u00f3rios listados abaixo foram usados no meu projeto individual, no projeto os reposit\u00f3rios utilizados foram os do Eduardo Takei. Na aba do projeto isto est\u00e1 documentado, por\u00e9m queria deixar claro que os reposit\u00f3rios abaixo s\u00e3o os utilizados apenas no meu projeto individual e n\u00e3o no projeto em grupo.</p>"},{"location":"individual/repositorios/#lista-de-repositorios-utilizados","title":"\ud83d\udd17 Lista de Reposit\u00f3rios Utilizados","text":""},{"location":"individual/repositorios/#1-account","title":"1. account","text":""},{"location":"individual/repositorios/#2-account-service","title":"2. account-service","text":""},{"location":"individual/repositorios/#3-auth","title":"3. auth","text":""},{"location":"individual/repositorios/#4-auth-service","title":"4. auth-service","text":""},{"location":"individual/repositorios/#5-gateway-service","title":"5. gateway-service","text":""},{"location":"individual/repositorios/#6-exchange-service","title":"6. exchange-service","text":""},{"location":"individual/repositorios/#7-product","title":"7. product","text":""},{"location":"individual/repositorios/#8-product-service","title":"8. product-service","text":""},{"location":"individual/repositorios/#9-order","title":"9. order","text":""},{"location":"individual/repositorios/#10-order-service","title":"10. order-service","text":""},{"location":"individual/repositorios/#instrucoes-de-execucao","title":"Instru\u00e7\u00f5es de Execu\u00e7\u00e3o","text":""},{"location":"individual/repositorios/#1-clonar-o-repositorio-principal","title":"1. Clonar o reposit\u00f3rio principal","text":"<pre><code>git clone https://github.com/LucaFeltrin14/platfp.git\ncd plataforma\ncd api\n</code></pre>"},{"location":"individual/repositorios/#2-subir-os-servicos-com-docker-compose","title":"2. Subir os servi\u00e7os com Docker Compose","text":"<p>Certifique-se de ter o Docker e o Docker Compose instalados:</p> <pre><code>docker compose up --build\n</code></pre> <p>Esse comando ir\u00e1 construir todas as imagens e subir os containers definidos no <code>compose.yml</code>.</p>"},{"location":"individual/repositorios/#3-acessar-a-aplicacao","title":"3. Acessar a aplica\u00e7\u00e3o","text":"<p>Ap\u00f3s os containers estarem rodando, voc\u00ea pode acessar a aplica\u00e7\u00e3o via gateway:</p> <pre><code>http://localhost:8080\n</code></pre> <p>Exemplos de rotas dispon\u00edveis:</p> <ul> <li><code>POST /auth/register</code> \u2013 Registro de usu\u00e1rios</li> <li><code>POST /auth/login</code> \u2013 Login de usu\u00e1rios</li> <li><code>GET /account/{userId}</code> \u2013 Obter detalhes da conta do usu\u00e1rio</li> <li><code>GET /product</code> \u2013 Listar todos os produtos</li> <li><code>POST /order</code> \u2013 Criar um novo pedido</li> </ul>"},{"location":"individual/repositorios/#4-encerrar-os-servicos","title":"4. Encerrar os servi\u00e7os","text":"<p>Para parar todos os containers e liberar os recursos:</p> <pre><code>docker compose down\n</code></pre>"},{"location":"projeto/","title":"Projeto de Deploy em Nuvem com AWS, Kubernetes (EKS) e mais","text":""},{"location":"projeto/#dupla-eduardo-takei-e-luca-feltrin","title":"Dupla: Eduardo Takei e Luca Feltrin","text":"<p>Este projeto teve como objetivo implementar um ambiente completo de deploy em nuvem para uma aplica\u00e7\u00e3o Spring Boot utilizando a infraestrutura da Amazon Web Services (AWS), orquestrada com Kubernetes via Amazon EKS. Al\u00e9m disso, foram realizados testes de carga, integra\u00e7\u00e3o (parcial) com Jenkins para CI/CD, uma an\u00e1lise de custos detalhada e a cria\u00e7\u00e3o de uma apresenta\u00e7\u00e3o de storytelling do projeto.</p> <p>Observa\u00e7\u00e3o: Utilizamos o repost\u00f3rio para dar continuidade para a parte em grupo. - Plataform Project</p> <p>Observa\u00e7\u00e3o: V\u00eddeos no final de cada p\u00e1gina.</p>"},{"location":"projeto/#visao-geral","title":"Vis\u00e3o Geral","text":"<p>A computa\u00e7\u00e3o em nuvem revolucionou o desenvolvimento e a entrega de software. Com a AWS, temos acesso sob demanda a servi\u00e7os de infraestrutura escal\u00e1veis, seguros e altamente dispon\u00edveis. Este projeto explorou essa realidade ao:</p> <ul> <li>Prover infraestrutura com Amazon EC2 e EKS;</li> <li>Executar deploy automatizado de microsservi\u00e7os com Docker e Kubernetes;</li> <li>Tentar pipeline CI/CD com Jenkins;</li> <li>Monitorar escalabilidade com HPA (Horizontal Pod Autoscaler);</li> <li>Simular carga real de usu\u00e1rios;</li> <li>Estimar custos com AWS Pricing Calculator;</li> <li>Criar uma apresenta\u00e7\u00e3o para stakeholders.</li> </ul>"},{"location":"projeto/#resumo-das-entregas","title":"\u2714\ufe0f Resumo das Entregas","text":"Entreg\u00e1vel Status Coment\u00e1rio Configura\u00e7\u00e3o da AWS \u2705 Conclu\u00eddo Provisionamento, EC2, IAM, EKS EKS e Deploy da Aplica\u00e7\u00e3o \u2705 Conclu\u00eddo Aplica\u00e7\u00e3o Spring Boot publicada e acess\u00edvel via LoadBalancer Testes de Carga \u2705 Conclu\u00eddo Escalonamento autom\u00e1tico testado com HPA CI/CD com Jenkins \u26a0\ufe0f Parcial Pipeline configurado at\u00e9 DockerHub, deploy no EKS n\u00e3o automatizado An\u00e1lise de Custos \u2705 Conclu\u00eddo Estimativas detalhadas com AWS Calculator Apresenta\u00e7\u00e3o e Storytelling \u2705 Conclu\u00eddo Slides e v\u00eddeo explicativo produzidos Explora\u00e7\u00e3o de PaaS \u274c N\u00e3o Implementado N\u00e3o foi abordado no escopo atual"},{"location":"projeto/#aws-amazon-web-services","title":"AWS \u2013 Amazon Web Services","text":"<p>A AWS foi a espinha dorsal da nossa infraestrutura. Utilizamos:</p> <ul> <li>IAM (Identity and Access Management): para criar usu\u00e1rios com pol\u00edticas restritas;</li> <li>EC2: para rodar inst\u00e2ncias no plano de controle e simular cargas;</li> <li>EKS (Elastic Kubernetes Service): para gerenciar os containers com alta disponibilidade;</li> <li>Elastic Load Balancer: para expor a aplica\u00e7\u00e3o ao mundo externo;</li> <li>CloudWatch (impl\u00edcito): para monitoramento e logs;</li> <li>Cost Explorer / Budgets: para controle e simula\u00e7\u00e3o de gastos.</li> </ul> <p>A escolha pela AWS se deve \u00e0 sua robustez, documenta\u00e7\u00e3o extensa e lideran\u00e7a de mercado.</p>"},{"location":"projeto/#kubernetes-com-amazon-eks","title":"Kubernetes com Amazon EKS","text":"<p>O Amazon EKS permitiu que foc\u00e1ssemos no deploy da aplica\u00e7\u00e3o sem nos preocupar com os detalhes do plano de controle do Kubernetes.</p>"},{"location":"projeto/#passos-realizados","title":"Passos realizados:","text":"<ol> <li>Cria\u00e7\u00e3o do cluster EKS com permiss\u00f5es apropriadas;</li> <li>Deploy da aplica\u00e7\u00e3o Spring Boot com <code>kubectl apply</code>;</li> <li>Exposi\u00e7\u00e3o do servi\u00e7o com <code>type: LoadBalancer</code>;</li> <li>Acompanhamento de pods, logs e health checks;</li> <li>Uso do Horizontal Pod Autoscaler para escalar conforme CPU.</li> </ol>"},{"location":"projeto/#exemplo-de-comando-hpa","title":"Exemplo de comando HPA:","text":"<p>```bash kubectl autoscale deployment gateway --cpu-percent=50 --min=1 --max=10</p>"},{"location":"projeto/AWS/","title":"Etapa 1 \u2013 Configura\u00e7\u00e3o da AWS","text":"<p>Nesta primeira etapa do projeto, realizamos toda a configura\u00e7\u00e3o necess\u00e1ria para preparar a infraestrutura em nuvem utilizando a Amazon Web Services (AWS), que foi a base para o provisionamento dos servi\u00e7os e do cluster Kubernetes.</p>"},{"location":"projeto/AWS/#visao-geral","title":"Vis\u00e3o Geral","text":"<p>A AWS foi escolhida como plataforma de infraestrutura por sua escalabilidade, confiabilidade e integra\u00e7\u00e3o nativa com servi\u00e7os de orquestra\u00e7\u00e3o como o Amazon EKS. Essa escolha permitiu que o projeto explorasse os principais conceitos de infraestrutura como servi\u00e7o (IaaS) e container orchestration com seguran\u00e7a e performance.</p>"},{"location":"projeto/AWS/#o-que-foi-feito","title":"O que foi feito","text":""},{"location":"projeto/AWS/#criacao-e-configuracao-da-conta-aws","title":"\u2705 Cria\u00e7\u00e3o e Configura\u00e7\u00e3o da Conta AWS","text":"<p>Iniciamos criando e ativando uma conta na AWS, com vincula\u00e7\u00e3o de um cart\u00e3o de cr\u00e9dito e ativa\u00e7\u00e3o do acesso completo ao console. A conta foi configurada na regi\u00e3o us-west-2 (Oregon), escolhida por sua boa cobertura de servi\u00e7os e lat\u00eancia est\u00e1vel.</p>"},{"location":"projeto/AWS/#iam-gestao-de-usuarios-e-permissoes","title":"\u2705 IAM: Gest\u00e3o de Usu\u00e1rios e Permiss\u00f5es","text":"<p>Criamos um usu\u00e1rio espec\u00edfico para o projeto com permiss\u00f5es program\u00e1ticas. Atribu\u00edmos pol\u00edticas necess\u00e1rias para manipular recursos do EKS, EC2, VPC e ECR, garantindo acesso seguro via CLI. As chaves de acesso foram geradas e utilizadas para autentica\u00e7\u00e3o local via terminal.</p>"},{"location":"projeto/AWS/#aws-cli","title":"\u2705 AWS CLI","text":"<p>Configuramos o ambiente local com a AWS Command Line Interface (CLI), o que permitiu realizar todas as opera\u00e7\u00f5es da nuvem diretamente pelo terminal, incluindo cria\u00e7\u00e3o de cluster, monitoramento e manipula\u00e7\u00e3o de recursos.</p> <p>A CLI foi vinculada ao usu\u00e1rio IAM criado anteriormente, e todos os comandos foram executados autenticados por esse canal.</p>"},{"location":"projeto/AWS/#preparacao-para-o-eks","title":"\u2705 Prepara\u00e7\u00e3o para o EKS","text":"<p>Como parte da prepara\u00e7\u00e3o para o cluster Kubernetes, instalamos ferramentas auxiliares como <code>kubectl</code> e <code>eksctl</code>, utilizadas nas etapas seguintes do projeto. Com essas ferramentas, garantimos que seria poss\u00edvel gerenciar o cluster sem depender exclusivamente do console web.</p>"},{"location":"projeto/AWS/#organizacao-de-recursos-e-boas-praticas","title":"\u2705 Organiza\u00e7\u00e3o de recursos e boas pr\u00e1ticas","text":"<p>Durante a configura\u00e7\u00e3o inicial da AWS, adotamos algumas boas pr\u00e1ticas:</p> <ul> <li>Uso de nomes padronizados para todos os recursos (ex: clusters, inst\u00e2ncias, pol\u00edticas);</li> <li>Controle de acesso refinado via IAM;</li> <li>Elimina\u00e7\u00e3o de recursos n\u00e3o utilizados para evitar cobran\u00e7as inesperadas;</li> <li>Registros de comandos e a\u00e7\u00f5es salvos em logs locais para documenta\u00e7\u00e3o e rastreabilidade.</li> </ul>"},{"location":"projeto/AWS/#resultado","title":"Resultado","text":"<p>Ao final desta etapa, a infraestrutura base estava pronta para suportar a cria\u00e7\u00e3o do cluster Kubernetes, deploy da aplica\u00e7\u00e3o e integra\u00e7\u00e3o com ferramentas de CI/CD. A configura\u00e7\u00e3o da AWS foi est\u00e1vel, funcional e seguiu as recomenda\u00e7\u00f5es de seguran\u00e7a e governan\u00e7a da pr\u00f3pria plataforma.</p>"},{"location":"projeto/AWS/#observacoes","title":"Observa\u00e7\u00f5es","text":"<p>A configura\u00e7\u00e3o realizada nesta etapa foi fundamental para o sucesso das etapas seguintes. Sem ela, n\u00e3o seria poss\u00edvel:</p> <ul> <li>Provisionar o cluster EKS;</li> <li>Realizar testes de carga em ambiente escal\u00e1vel;</li> <li>Implantar um pipeline de CI/CD integrado com servi\u00e7os de nuvem;</li> <li>Estimar custos com base em uso real da infraestrutura.</li> </ul>"},{"location":"projeto/EKS/","title":"Etapa 2 \u2013 Configura\u00e7\u00e3o e Execu\u00e7\u00e3o do Amazon EKS","text":"<p>Nesta etapa do projeto, utilizamos o Amazon Elastic Kubernetes Service (EKS) como solu\u00e7\u00e3o de orquestra\u00e7\u00e3o para containeriza\u00e7\u00e3o da aplica\u00e7\u00e3o. O EKS \u00e9 um servi\u00e7o gerenciado que facilita a cria\u00e7\u00e3o, o gerenciamento e a escalabilidade de clusters Kubernetes, permitindo foco total na aplica\u00e7\u00e3o e n\u00e3o na infraestrutura subjacente.</p>"},{"location":"projeto/EKS/#objetivo-da-etapa","title":"Objetivo da Etapa","text":"<p>O principal objetivo foi criar um ambiente gerenciado de Kubernetes na AWS, capaz de receber a aplica\u00e7\u00e3o Spring Boot via container, garantindo escalabilidade, balanceamento de carga e integra\u00e7\u00e3o com os servi\u00e7os j\u00e1 configurados.</p>"},{"location":"projeto/EKS/#o-que-foi-feito","title":"O que foi feito","text":""},{"location":"projeto/EKS/#criacao-do-role-para-o-cluster-eks","title":"\u2705 Cria\u00e7\u00e3o do Role para o Cluster EKS","text":"<p>Foi criado um papel IAM espec\u00edfico com as permiss\u00f5es necess\u00e1rias para permitir que o Amazon EKS gerencie os recursos do cluster. Essa role foi associada ao servi\u00e7o <code>eks.amazonaws.com</code>, garantindo que o plano de controle tivesse autoridade para criar e controlar recursos em nome do cluster.</p>"},{"location":"projeto/EKS/#provisionamento-de-uma-vpc-dedicada","title":"\u2705 Provisionamento de uma VPC dedicada","text":"<p>A infraestrutura foi isolada em uma VPC (Virtual Private Cloud) pr\u00f3pria, permitindo controle granular de sub-redes, grupos de seguran\u00e7a e rotas de acesso. A VPC foi gerada automaticamente com as configura\u00e7\u00f5es recomendadas pela AWS para ambientes EKS, incluindo:</p> <ul> <li>Sub-redes p\u00fablicas e privadas;</li> <li>Tabelas de rotas;</li> <li>Gateways NAT e internet.</li> </ul> <p>Essa rede serviu como base para todos os recursos criados no cluster.</p>"},{"location":"projeto/EKS/#criacao-do-cluster-eks","title":"\u2705 Cria\u00e7\u00e3o do Cluster EKS","text":"<p>Com a VPC e o role do cluster prontos, criamos o cluster EKS nomeado e vinculado \u00e0 regi\u00e3o <code>us-west-2</code>. O cluster foi criado com a role apropriada e associado \u00e0s sub-redes da VPC.</p> <p>Durante esse processo, n\u00e3o foi necess\u00e1rio se preocupar com a cria\u00e7\u00e3o do plano de controle, j\u00e1 que o EKS gerencia esse componente automaticamente com alta disponibilidade, backups e atualiza\u00e7\u00f5es autom\u00e1ticas.</p>"},{"location":"projeto/EKS/#criacao-da-role-para-o-node-group","title":"\u2705 Cria\u00e7\u00e3o da Role para o Node Group","text":"<p>Foi criada uma nova role IAM, desta vez para o grupo de n\u00f3s (node group). Essa role permitiu que as inst\u00e2ncias EC2 que comp\u00f5em os n\u00f3s do cluster executassem tarefas como:</p> <ul> <li>Acesso ao container registry (ECR);</li> <li>Comunica\u00e7\u00e3o com o plano de controle Kubernetes;</li> <li>Coleta de m\u00e9tricas e logs.</li> </ul> <p>As pol\u00edticas principais associadas foram: - <code>AmazonEKSWorkerNodePolicy</code> - <code>AmazonEC2ContainerRegistryReadOnly</code> - <code>AmazonEKS_CNI_Policy</code></p>"},{"location":"projeto/EKS/#definicao-do-node-group","title":"\u2705 Defini\u00e7\u00e3o do Node Group","text":"<p>Criamos um node group gerenciado, especificando:</p> <ul> <li>Tipo de inst\u00e2ncia: <code>t3.medium</code> (2 vCPUs, 4GB RAM);</li> <li>Quantidade m\u00ednima e m\u00e1xima de n\u00f3s;</li> <li>Sistema operacional: Amazon Linux 2;</li> <li>Integra\u00e7\u00e3o com Auto Scaling para escalabilidade autom\u00e1tica;</li> </ul> <p>Esse grupo de n\u00f3s passou a atuar como plano de dados, executando os containers implantados no cluster.</p>"},{"location":"projeto/EKS/#acesso-ao-cluster-eks","title":"\u2705 Acesso ao Cluster EKS","text":"<p>Com o cluster em execu\u00e7\u00e3o, configuramos o acesso via <code>kubectl</code> atrav\u00e9s da AWS CLI. Foi poss\u00edvel listar, aplicar e monitorar recursos no cluster diretamente pelo terminal, integrando os microsservi\u00e7os da aplica\u00e7\u00e3o.</p> <p>Tamb\u00e9m foi feita a autentica\u00e7\u00e3o do <code>kubectl</code> com o <code>aws eks update-kubeconfig</code>, garantindo controle completo sobre o namespace padr\u00e3o do Kubernetes.</p>"},{"location":"projeto/EKS/#resultado","title":"Resultado","text":"<p>Ao final desta etapa, t\u00ednhamos um ambiente Kubernetes funcional, escal\u00e1vel e gerenciado pela AWS. A aplica\u00e7\u00e3o p\u00f4de ser implantada com comandos padr\u00e3o <code>kubectl</code>, e os servi\u00e7os foram expostos via Load Balancer automaticamente.</p> <p>Esse cluster se tornou a base da opera\u00e7\u00e3o do projeto, sendo fundamental para os testes de carga e an\u00e1lise de custos executados nas etapas seguintes.</p>"},{"location":"projeto/EKS/#observacoes-tecnicas","title":"Observa\u00e7\u00f5es T\u00e9cnicas","text":"<ul> <li>A cria\u00e7\u00e3o dos recursos foi feita utilizando uma combina\u00e7\u00e3o do Console AWS e comandos <code>eksctl</code>/<code>kubectl</code>;</li> <li>O cluster foi configurado com permiss\u00f5es m\u00ednimas necess\u00e1rias, evitando riscos de seguran\u00e7a;</li> <li>Monitoramos os recursos do cluster por meio da interface gr\u00e1fica do EKS e do terminal.</li> </ul>"},{"location":"projeto/EKS/#video-mostrando-a-aplicacao-rodando-na-aws-eks","title":"Video mostrando a aplica\u00e7\u00e3o rodando na AWS EKS","text":"<p>Veja o v\u00eddeo no YouTube: https://www.youtube.com/watch?v=KIOW6v2Fwws</p>"},{"location":"projeto/TesteDeCarga/","title":"Etapa 3 \u2013 Testes de Carga com Escalonamento Horizontal (HPA)","text":"<p>Uma etapa essencial do projeto foi a execu\u00e7\u00e3o de testes de carga para verificar a capacidade da aplica\u00e7\u00e3o de lidar com varia\u00e7\u00f5es de tr\u00e1fego em tempo real. Atrav\u00e9s do uso de Kubernetes e do recurso HPA (Horizontal Pod Autoscaler), conseguimos simular cen\u00e1rios de uso intenso e validar o comportamento do ambiente em situa\u00e7\u00f5es de alta demanda.</p>"},{"location":"projeto/TesteDeCarga/#objetivo-da-etapa","title":"Objetivo da Etapa","text":"<p>O principal objetivo foi comprovar que a aplica\u00e7\u00e3o, ao ser submetida a um alto volume de requisi\u00e7\u00f5es, seria capaz de escalar horizontalmente, aumentando o n\u00famero de pods dispon\u00edveis para atender \u00e0 demanda, e reduzir esses pods quando a carga diminu\u00edsse.</p>"},{"location":"projeto/TesteDeCarga/#o-que-foi-feito","title":"O que foi feito","text":""},{"location":"projeto/TesteDeCarga/#implementacao-do-hpa-horizontal-pod-autoscaler","title":"\u2705 Implementa\u00e7\u00e3o do HPA (Horizontal Pod Autoscaler)","text":"<p>Foi criado um recurso do Kubernetes para o deployment <code>gateway</code>, com par\u00e2metros espec\u00edficos de escalabilidade baseados no uso de CPU:</p> <ul> <li>CPU target: 50%</li> <li>M\u00ednimo de pods: 1</li> <li>M\u00e1ximo de pods: 10</li> </ul> <p>Esse autoscaler foi vinculado diretamente ao deployment ativo da aplica\u00e7\u00e3o no cluster EKS, permitindo que o Kubernetes monitorasse o consumo de recursos e tomasse decis\u00f5es autom\u00e1ticas de escalonamento.</p>"},{"location":"projeto/TesteDeCarga/#execucao-dos-testes-de-carga","title":"\u2705 Execu\u00e7\u00e3o dos Testes de Carga","text":"<p>Para gerar carga artificial na aplica\u00e7\u00e3o, executamos um script de requisi\u00e7\u00f5es cont\u00ednuas ao endpoint <code>/info</code> da aplica\u00e7\u00e3o, exposto pelo gateway.</p> <p>As requisi\u00e7\u00f5es foram feitas com intervalos curtos (0.01 segundos), simulando um tr\u00e1fego intenso de m\u00faltiplos usu\u00e1rios simult\u00e2neos. A ferramenta utilizada foi o pr\u00f3prio <code>wget</code>, executado em loop dentro de um pod <code>busybox</code> tempor\u00e1rio.</p> <p>O endpoint <code>/info</code> foi escolhido por ser leve, r\u00e1pido de responder e ideal para simula\u00e7\u00f5es de carga em ambientes REST.</p>"},{"location":"projeto/TesteDeCarga/#monitoramento-em-tempo-real","title":"\u2705 Monitoramento em Tempo Real","text":"<p>Enquanto o teste de carga estava em execu\u00e7\u00e3o, monitoramos:</p> <ul> <li>A resposta do HPA, observando o n\u00famero de r\u00e9plicas sendo ajustado automaticamente conforme o uso de CPU;</li> <li>A cria\u00e7\u00e3o de novos pods pelo deployment do <code>gateway</code>;</li> <li>A redu\u00e7\u00e3o gradual dos pods ap\u00f3s o encerramento da carga.</li> </ul> <p>Essa observa\u00e7\u00e3o foi feita em tempo real, com janelas de terminal dedicadas para:</p> <ul> <li>Verificar o status do HPA com <code>kubectl get hpa</code>;</li> <li>Ver o escalonamento dos pods com <code>kubectl get pods -w</code>;</li> <li>Executar e pausar o gerador de carga com <code>kubectl run</code>.</li> </ul>"},{"location":"projeto/TesteDeCarga/#demonstracao-em-video","title":"\u2705 Demonstra\u00e7\u00e3o em V\u00eddeo","text":"<p>Gravamos um v\u00eddeo demonstrando o processo completo, incluindo:</p> <ol> <li>Cria\u00e7\u00e3o e visualiza\u00e7\u00e3o do HPA;</li> <li>Execu\u00e7\u00e3o do gerador de carga;</li> <li>Acompanhamento da cria\u00e7\u00e3o de r\u00e9plicas;</li> <li>Redu\u00e7\u00e3o autom\u00e1tica ap\u00f3s fim da carga;</li> <li>Conclus\u00e3o com a exclus\u00e3o do HPA para libera\u00e7\u00e3o de recursos.</li> </ol> <p>Esse v\u00eddeo foi inclu\u00eddo como parte da apresenta\u00e7\u00e3o final do projeto.</p>"},{"location":"projeto/TesteDeCarga/#resultado","title":"Resultado","text":"<p>O ambiente se comportou conforme o esperado. Durante os testes:</p> <ul> <li>O n\u00famero de pods do <code>gateway</code> aumentou automaticamente quando o consumo de CPU ultrapassou o limite configurado;</li> <li>O tr\u00e1fego cont\u00ednuo foi distribu\u00eddo entre os pods dispon\u00edveis, sem queda de performance;</li> <li>Ap\u00f3s a interrup\u00e7\u00e3o do teste, o HPA come\u00e7ou a reduzir o n\u00famero de r\u00e9plicas gradualmente, estabilizando a infraestrutura.</li> </ul> <p>Essa etapa validou a capacidade do nosso cluster em responder elasticamente \u00e0 varia\u00e7\u00e3o de carga, um requisito essencial para aplica\u00e7\u00f5es modernas em nuvem.</p>"},{"location":"projeto/TesteDeCarga/#observacoes-tecnicas","title":"Observa\u00e7\u00f5es T\u00e9cnicas","text":"<ul> <li>Utilizamos o comando <code>kubectl autoscale</code> para criar o HPA;</li> <li>A carga foi gerada via <code>wget</code> dentro de um pod <code>busybox</code>;</li> <li>O endpoint utilizado (<code>/info</code>) foi suficiente para gerar atividade cont\u00ednua de CPU;</li> <li>A performance do HPA demonstrou alinhamento com as expectativas te\u00f3ricas;</li> <li>Nenhum recurso apresentou falha ou erro durante a execu\u00e7\u00e3o do teste.</li> </ul>"},{"location":"projeto/TesteDeCarga/#conclusao","title":"Conclus\u00e3o","text":"<p>A etapa de teste de carga foi bem-sucedida e provou que nossa aplica\u00e7\u00e3o, implantada no EKS, est\u00e1 preparada para lidar com varia\u00e7\u00f5es de tr\u00e1fego. A estrat\u00e9gia de escalonamento autom\u00e1tico demonstrou ser eficaz, consolidando a robustez do ambiente constru\u00eddo.</p>"},{"location":"projeto/TesteDeCarga/#video-explicando-a-estimacao-de-teste-de-carga","title":"Video explicando a estima\u00e7\u00e3o de teste de carga","text":"<p>Veja o v\u00eddeo no YouTube: https://youtu.be/uAhrSJhylSg</p>"},{"location":"projeto/analiseDeCusto/","title":"Etapa 4 \u2013 An\u00e1lise de Custos na AWS","text":"<p>Nesta etapa do projeto, realizamos uma an\u00e1lise detalhada dos custos envolvidos na infraestrutura provisionada na AWS. O objetivo foi estimar o impacto financeiro das decis\u00f5es arquiteturais, entender quais servi\u00e7os representam os maiores gastos e documentar o uso consciente de recursos na nuvem.</p>"},{"location":"projeto/analiseDeCusto/#objetivo-da-etapa","title":"Objetivo da Etapa","text":"<p>A an\u00e1lise de custos foi essencial para garantir que o ambiente constru\u00eddo fosse sustent\u00e1vel, mesmo em uso prolongado. Tamb\u00e9m permitiu identificar poss\u00edveis otimiza\u00e7\u00f5es para reduzir gastos sem comprometer a qualidade e a escalabilidade da aplica\u00e7\u00e3o.</p>"},{"location":"projeto/analiseDeCusto/#o-que-foi-feito","title":"O que foi feito","text":""},{"location":"projeto/analiseDeCusto/#estimativa-com-a-aws-pricing-calculator","title":"\u2705 Estimativa com a AWS Pricing Calculator","text":"<p>Utilizamos a ferramenta oficial AWS Pricing Calculator para projetar o custo mensal de cada servi\u00e7o utilizado no projeto. A simula\u00e7\u00e3o considerou:</p> <ul> <li>Cluster EKS com 1 n\u00f3 ativo</li> <li>Inst\u00e2ncia EC2 do tipo <code>t3.medium</code></li> <li>Uso de Load Balancer para expor a aplica\u00e7\u00e3o</li> <li>Tr\u00e1fego de sa\u00edda estimado para simula\u00e7\u00e3o de uso real</li> </ul> <p>Os valores foram estimados em d\u00f3lares, com base na regi\u00e3o us-west-2 (Oregon).</p>"},{"location":"projeto/analiseDeCusto/#avaliacao-de-custos-dos-principais-servicos","title":"\u2705 Avalia\u00e7\u00e3o de Custos dos Principais Servi\u00e7os","text":""},{"location":"projeto/analiseDeCusto/#eks-elastic-kubernetes-service","title":"\ud83e\udde9 EKS (Elastic Kubernetes Service)","text":"<ul> <li>Custo fixo mensal do cluster: aproximadamente $73 (para o plano de controle).</li> <li>Custos adicionais relacionados ao uso de inst\u00e2ncias EC2 no Node Group.</li> </ul>"},{"location":"projeto/analiseDeCusto/#ec2-node-group-t3medium","title":"\ud83d\udda5\ufe0f EC2 (Node Group \u2013 <code>t3.medium</code>)","text":"<ul> <li>Inst\u00e2ncia com 2 vCPUs e 4GB de RAM;</li> <li>Custo estimado: cerca de $30 por m\u00eas por inst\u00e2ncia em uso cont\u00ednuo;</li> <li>Apenas uma inst\u00e2ncia foi utilizada para simula\u00e7\u00e3o do ambiente produtivo.</li> </ul>"},{"location":"projeto/analiseDeCusto/#load-balancer-elb","title":"\ud83c\udf10 Load Balancer (ELB)","text":"<ul> <li>Utilizado para expor o servi\u00e7o do gateway;</li> <li>Custo vari\u00e1vel, dependendo do tempo ativo e tr\u00e1fego roteado;</li> <li>Estimamos cerca de $18 por m\u00eas com base na m\u00e9dia de horas ativas e volume de dados.</li> </ul>"},{"location":"projeto/analiseDeCusto/#trafego-de-rede","title":"\ud83d\udce1 Tr\u00e1fego de Rede","text":"<ul> <li>Tr\u00e1fego de sa\u00edda simulado com base em testes de carga;</li> <li>Faixa gratuita utilizada parcialmente;</li> <li>Estimativa conservadora: $1 a $3 mensais para um tr\u00e1fego leve.</li> </ul>"},{"location":"projeto/analiseDeCusto/#custos-totais-estimados","title":"\u2705 Custos Totais Estimados","text":"Servi\u00e7o Estimativa Mensal (USD) EKS Cluster (control plane) $73.00 EC2 (1 x t3.medium) $30.00 Total estimado $88.00/m\u00eas <p>Obs.: Esses valores s\u00e3o estimativas baseadas em uso cont\u00ednuo. Em ambientes de produ\u00e7\u00e3o real, custos podem variar significativamente.</p>"},{"location":"projeto/analiseDeCusto/#consideracao-de-rds","title":"\u2705 Considera\u00e7\u00e3o de RDS","text":"<p>Embora o Amazon RDS n\u00e3o tenha sido implantado no projeto, consideramos uma estimativa para seu uso com inst\u00e2ncia m\u00ednima para PostgreSQL:</p> <ul> <li>Inst\u00e2ncia db.t3.micro</li> <li>Uso leve e cont\u00ednuo</li> <li>Estimativa: aproximadamente $15 a $20 por m\u00eas</li> </ul> <p>Essa simula\u00e7\u00e3o foi inclu\u00edda no plano de custos para projetar poss\u00edveis expans\u00f5es futuras da arquitetura.</p>"},{"location":"projeto/analiseDeCusto/#ferramentas-utilizadas","title":"\u2705 Ferramentas Utilizadas","text":"<ul> <li>AWS Pricing Calculator: para estimativas realistas e combinadas;</li> <li>AWS Cost Explorer: para visualizar consumo real durante a execu\u00e7\u00e3o dos testes;</li> <li>Planilhas auxiliares para simular diferentes cen\u00e1rios de escalabilidade e uso intensivo.</li> </ul>"},{"location":"projeto/analiseDeCusto/#resultado","title":"Resultado","text":"<p>A an\u00e1lise de custos foi conclu\u00edda com sucesso, fornecendo uma vis\u00e3o clara do impacto financeiro do ambiente implantado. A simula\u00e7\u00e3o mostrou que, mesmo com um cluster funcional e escal\u00e1vel, \u00e9 poss\u00edvel manter os custos controlados com boas pr\u00e1ticas, desligando recursos fora de uso e dimensionando corretamente os servi\u00e7os.</p>"},{"location":"projeto/analiseDeCusto/#observacoes-tecnicas","title":"Observa\u00e7\u00f5es T\u00e9cnicas","text":"<ul> <li>Todos os custos foram analisados com base em uso cont\u00ednuo (24/7) para representar o pior cen\u00e1rio;</li> <li>O uso de inst\u00e2ncias t3.medium foi considerado um bom equil\u00edbrio entre custo e performance;</li> <li>A elimina\u00e7\u00e3o de recursos ap\u00f3s os testes contribuiu para manter o custo real pr\u00f3ximo de zero.</li> </ul>"},{"location":"projeto/analiseDeCusto/#conclusao","title":"Conclus\u00e3o","text":"<p>A etapa de an\u00e1lise de custos permitiu avaliar a viabilidade do projeto na AWS. O entendimento detalhado dos pre\u00e7os e o uso consciente da infraestrutura s\u00e3o fatores cr\u00edticos para qualquer aplica\u00e7\u00e3o moderna que opere na nuvem.</p> <p>Essa vis\u00e3o tamb\u00e9m preparou o terreno para tomada de decis\u00f5es futuras sobre otimiza\u00e7\u00e3o, uso de PaaS ou migra\u00e7\u00e3o de servi\u00e7os espec\u00edficos para modelos mais econ\u00f4micos.</p>"},{"location":"projeto/analiseDeCusto/#video-explicando-a-estimacao-de-custos","title":"Video explicando a estima\u00e7\u00e3o de custos","text":"<p>Veja o v\u00eddeo no YouTube: https://www.youtube.com/watch?v=IADculDt_II</p>"}]}